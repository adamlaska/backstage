import{j as r}from"./jsx-runtime-Cw0GR0a5.js";import{d as _}from"./Search-x_J7H5VZ.js";import{r as t}from"./index-CTjT7uj6.js";import{u as K}from"./useDebounce-4fqASXX_.js";import{s as N}from"./translation-Bhb48zXc.js";import{S as y,u as z}from"./SearchContext-NUeqQOQ4.js";import{T as V}from"./TextField-CqSiNkPl.js";import{I as x}from"./InputAdornment--MNz9KjP.js";import{I as F}from"./IconButton-BxJ-nFiT.js";import{B as L}from"./Button-Cwg5hjTf.js";import{u as M}from"./ApiRef-CqkoWjZn.js";import{u as O}from"./useTranslationRef-Bfx90Ud1.js";import{b as Q}from"./index-w6SBqnNd.js";import{A as U}from"./useAnalytics-DVyBXs_0.js";import{c as W}from"./ConfigApi-D1qiBdfc.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-rCELOQ8q.js";import"./capitalize-CjHL08xv.js";import"./defaultTheme-U8IXQtr7.js";import"./withStyles-Dj_puyu8.js";import"./hoist-non-react-statics.cjs-DzIEFHQI.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-CAWH9WqG.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-B_4ddUuK.js";import"./ownerWindow-C3iVrxHF.js";import"./useIsFocusVisible-BQk2_Vhe.js";import"./index-DwHHXP4W.js";import"./useControlled-B47E2WMp.js";import"./unstable_useId-B3Hiq1YI.js";import"./TranslationApi-DhmNHZQM.js";import"./lodash-CoGan1YB.js";import"./useAsync-CXA3qup_.js";import"./useMountedState-DkESzBh4.js";import"./api-B335RvSG.js";import"./FormLabel-CJ3FBCjt.js";import"./formControlState-ByiNFc8I.js";import"./useFormControl-F4cJWIkJ.js";import"./InputLabel-nTfAEcNe.js";import"./Select-DzWFGM1A.js";import"./react-is.production.min-D0tnNtx9.js";import"./useTheme-hfNS2WFw.js";import"./Popover-BpMibsVW.js";import"./Modal-CkYXz1UB.js";import"./classCallCheck-BNzALLS0.js";import"./Portal-BcgI5KAA.js";import"./Paper-BZKq1osr.js";import"./Grow-Bw-3CPgf.js";import"./utils-ClB-4IsE.js";import"./TransitionGroupContext-BtzQ-Cv7.js";import"./List-BslH4zsa.js";import"./ListContext-DydK1sOh.js";import"./Typography-CUBppVl0.js";import"./ButtonBase-C1iu_4vV.js";const C=t.forwardRef((u,d)=>{const{onChange:o,onKeyDown:n=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:a=200,clearButton:f=!0,fullWidth:m=!0,value:h,label:g,placeholder:S,inputProps:B={},InputProps:v={},endAdornment:A,...I}=u,R=M(W),[p,c]=t.useState(""),l=t.useRef(""),{t:b}=O(N);t.useEffect(()=>{c(e=>e===l.current?String(h):e)},[h,l]),K(()=>{l.current=p,o(p)},a,[p]);const T=t.useCallback(e=>{c(e.target.value)},[c]),j=t.useCallback(e=>{n&&n(e),s&&e.key==="Enter"&&s()},[n,s]),P=t.useCallback(()=>{l.current="",o(""),c(""),i&&i()},[o,i]),w=g?void 0:b("searchBar.title"),k=S??b("searchBar.placeholder",{org:R.getOptionalString("app.title")||"Backstage"}),E=Q().getSystemIcon("search")||_,q=r.jsx(x,{position:"start",children:r.jsx(F,{"aria-label":"Query",size:"small",disabled:!0,children:r.jsx(E,{})})}),D=r.jsx(x,{position:"end",children:r.jsx(L,{"aria-label":"Clear",size:"small",onClick:P,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:"Clear"})});return r.jsx(y,{inheritParentContextIfAvailable:!0,children:r.jsx(V,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:d,value:p,label:g,placeholder:k,InputProps:{startAdornment:q,endAdornment:f?D:A,...v},inputProps:{"aria-label":w,...B},fullWidth:m,onChange:T,onKeyDown:j,...I})})}),G=t.forwardRef((u,d)=>{const{value:o="",onChange:n,...i}=u,{term:s,setTerm:a}=z();t.useEffect(()=>{o&&a(String(o))},[o,a]);const f=t.useCallback(m=>{n?n(m):a(m)},[n,a]);return r.jsx(y,{inheritParentContextIfAvailable:!0,children:r.jsx(U,{attributes:{pluginId:"search",extension:"SearchBar"},children:r.jsx(C,{...i,ref:d,value:s,onChange:f})})})});C.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};G.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{G as SearchBar,C as SearchBarBase};
